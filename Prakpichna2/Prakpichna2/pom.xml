import java.util.Random;
        import java.util.Scanner;

        public class MatrixProgram {

        // Константи для генерації випадкових чисел
        private static final int MIN_VALUE = 0;
        private static final int MAX_VALUE = 100;

        public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        // Введення розмірів матриці
        int rows = getInt(scanner, "Введіть кількість рядків (1-20): ", 1, 20);
        int cols = getInt(scanner, "Введіть кількість стовпців (1-20): ", 1, 20);

        // Вибір способу створення матриці
        System.out.println("Виберіть спосіб створення матриці:");
        System.out.println("1 - Ввести вручну");
        System.out.println("2 - Заповнити рандомно");
        int choice = getInt(scanner, "Ваш вибір: ", 1, 2);

        int[][] matrix = new int[rows][cols];

        if (choice == 1) {
        fillMatrixManually(scanner, matrix);
        } else {
        fillMatrixRandomly(matrix);
        }

        System.out.println("\nВаша матриця:");
        printMatrix(matrix);

        int min = findMin(matrix);
        int max = findMax(matrix);
        double average = calculateAverage(matrix);

        System.out.println("\nМінімальний елемент: " + min);
        System.out.println("Максимальний елемент: " + max);
        System.out.println("Середнє арифметичне: " + average);

        scanner.close();
        }

        // Метод для введення чисел з клавіатури в межах [min, max]
        private static int getInt(Scanner scanner, String message, int min, int max) {
        int number;
        while (true) {
        System.out.print(message);
        if (scanner.hasNextInt()) {
        number = scanner.nextInt();
        if (number >= min && number <= max) {
        break;
        } else {
        System.out.println("Будь ласка, введіть число в межах " + min + " - " + max);
        }
        } else {
        System.out.println("Будь ласка, введіть ціле число.");
        scanner.next(); // очищаємо неправильний ввід
        }
        }
        return number;
        }

        // Метод заповнення матриці вручну
        private static void fillMatrixManually(Scanner scanner, int[][] matrix) {
        System.out.println("Введіть елементи матриці:");
        for (int i = 0; i < matrix.length; i++) {
        for (int j = 0; j < matrix[i].length; j++) {
        matrix[i][j] = getInt(scanner, "matrix[" + i + "][" + j + "] = ", Integer.MIN_VALUE, Integer.MAX_VALUE);
        }
        }
        }

        // Метод заповнення матриці випадковими числами
        private static void fillMatrixRandomly(int[][] matrix) {
        Random random = new Random();
        for (int i = 0; i < matrix.length; i++) {
        for (int j = 0; j < matrix[i].length; j++) {
        matrix[i][j] = random.nextInt(MAX_VALUE - MIN_VALUE + 1) + MIN_VALUE;
        }
        }
        }

        // Метод друку матриці
        private static void printMatrix(int[][] matrix) {
        for (int[] row : matrix) {
        for (int elem : row) {
        System.out.print(elem + "\t");
        }
        System.out.println();
        }
        }

        // Метод знаходження мінімального елемента
        private static int findMin(int[][] matrix) {
        int min = matrix[0][0];
        for (int[] row : matrix) {
        for (int elem : row) {
        if (elem < min) min = elem;
        }
        }
        return min;
        }

        // Метод знаходження максимального елемента
        private static int findMax(int[][] matrix) {
        int max = matrix[0][0];
        for (int[] row : matrix) {
        for (int elem : row) {
        if (elem > max) max = elem;
        }
        }
        return max;
        }

        // Метод обчислення середнього арифметичного
        private static double calculateAverage(int[][] matrix) {
        int sum = 0;
        int count = 0;
        for (int[] row : matrix) {
        for (int elem : row) {
        sum += elem;
        count++;
        }
        }
        return (double) sum / count;
        }
        }
